RewriteEngine On
RewriteBase /rosettastmtont/

# ---- Ontology Landing Page ----
RewriteRule ^$ https://karanthpallavi.github.io/rosetta_statement_ontology/ [R=302,L]

# ---- Ontology File (latest/latest format) ----
RewriteCond %{HTTP_ACCEPT} application/rdf\+xml
RewriteRule ^ontology$ https://karanthpallavi.github.io/rosetta_statement_ontology/rosettastmtont.owl [R=303,L]

RewriteCond %{HTTP_ACCEPT} application/ld\+json
RewriteRule ^ontology$ https://karanthpallavi.github.io/rosetta_statement_ontology/rosettastmtont.json [R=303,L]

# Fallback to HTML landing page
RewriteRule ^ontology$ https://karanthpallavi.github.io/rosetta_statement_ontology/ [R=303,L]

# ---- Versioned Ontology Files ----
RewriteRule ^ontology/releases/(.*)/rosettastmtont.owl$ https://karanthpallavi.github.io/rosetta_statement_ontology/releases/$1/rosettastmtont.owl [R=302,L]
RewriteRule ^ontology/releases/(.*)/rosettastmtont.json$ https://karanthpallavi.github.io/rosetta_statement_ontology/releases/$1/rosettastmtont.json [R=302,L]

# ---- Individual Terms (Classes, Properties, Individuals) ----
# RDF/XML
RewriteCond %{HTTP_ACCEPT} application/rdf\+xml
RewriteRule ^(.+)$ https://karanthpallavi.github.io/rosetta_statement_ontology/terms/$1.owl [R=303,L]

# JSON-LD
RewriteCond %{HTTP_ACCEPT} application/ld\+json
RewriteRule ^(.+)$ https://karanthpallavi.github.io/rosetta_statement_ontology/terms/$1.json [R=303,L]

# Fallback to HTML (if you later add .html term pages)
RewriteRule ^(.+)$ https://karanthpallavi.github.io/rosetta_statement_ontology/terms/$1.html [R=303,L]