
Options +FollowSymLinks
RewriteEngine on

# verb dataset
# ---------------------------
# Rewrite rule to serve HTML content from the vocabulary URI if requested
RewriteCond %{HTTP_ACCEPT} !application/rdf\+xml.*(text/html|application/xhtml\+xml)
RewriteCond %{HTTP_ACCEPT} text/html [OR]
RewriteCond %{HTTP_ACCEPT} application/xhtml\+xml [OR]
RewriteCond %{HTTP_USER_AGENT} ^Mozilla/.*
RewriteRule ^verbs$ http://xapi.vocab.pub/datasets/adl/verbs [R=303]
RewriteRule ^verbs/(.*) http://xapi.vocab.pub/datasets/adl/verbs#$1 [R=303,NE]

# Rewrite rule to serve Turtle content from the vocabulary URI if requested
RewriteCond %{HTTP_ACCEPT} text/turtle
RewriteRule ^verbs$ http://xapi.vocab.pub/datasets/adl/verbs.ttl [R=303]
RewriteRule ^verbs/(.*) http://xapi.vocab.pub/datasets/adl/verbs.ttl [R=303]

# Rewrite rule to serve JSON-LD content from the vocabulary URI if requested
RewriteCond %{HTTP_ACCEPT} application/ld\+json
RewriteRule ^verbs$ http://xapi.vocab.pub/datasets/adl/verbs.jsonld [R=303]
RewriteRule ^verbs/(.*) http://xapi.vocab.pub/datasets/adl/verbs.jsonld [R=303]

# activities dataset
# ---------------------------
# Rewrite rule to serve HTML content from the vocabulary URI if requested
RewriteCond %{HTTP_ACCEPT} !application/rdf\+xml.*(text/html|application/xhtml\+xml)
RewriteCond %{HTTP_ACCEPT} text/html [OR]
RewriteCond %{HTTP_ACCEPT} application/xhtml\+xml [OR]
RewriteCond %{HTTP_USER_AGENT} ^Mozilla/.*
RewriteRule ^activities$ http://xapi.vocab.pub/datasets/adl/activities [R=303]
RewriteRule ^activities/(.*) http://xapi.vocab.pub/datasets/adl/activities/#$1 [R=303,NE]

# Rewrite rule to serve JSON-LD content from the vocabulary URI if requested
RewriteCond %{HTTP_ACCEPT} application/ld\+json
RewriteRule ^activities$ http://xapi.vocab.pub/datasets/adl/activities.jsonld [R=303]
RewriteRule ^activities/(.*) http://xapi.vocab.pub/datasets/adl/activities.jsonld [R=303]

# Rewrite rule to serve Turtle content from the vocabulary URI if requested
RewriteCond %{HTTP_ACCEPT} text/turtle
RewriteRule ^activities$ http://xapi.vocab.pub/datasets/adl/activities.ttl [R=303]
RewriteRule ^activities/(.*) http://xapi.vocab.pub/datasets/adl/activities.ttl [R=303]


# Multiple Rewrite rules below to serve plain JSON content from each vocabulary term URI if requested - OLD xAPI SPEC REQUIREMENT

# abandoned
# ---------------------------
RewriteCond %{HTTP_ACCEPT} application/json
RewriteRule ^verbs/abandoned$ http://xapi.vocab.pub/datasets/adl/verbs/abandoned.json [R=303]

# answered
# ---------------------------
RewriteCond %{HTTP_ACCEPT} application/json
RewriteRule ^verbs/answered$ http://xapi.vocab.pub/datasets/adl/verbs/answered.json [R=303]

# asked
# ---------------------------
RewriteCond %{HTTP_ACCEPT} application/json
RewriteRule ^verbs/asked$ http://xapi.vocab.pub/datasets/adl/verbs/asked.json [R=303]

# attempted
# ---------------------------
RewriteCond %{HTTP_ACCEPT} application/json
RewriteRule ^verbs/attempted$ http://xapi.vocab.pub/datasets/adl/verbs/attempted.json [R=303]

# attended
# ---------------------------
RewriteCond %{HTTP_ACCEPT} application/json
RewriteRule ^verbs/attended$ http://xapi.vocab.pub/datasets/adl/verbs/attended.json [R=303]

# commented
# ---------------------------
RewriteCond %{HTTP_ACCEPT} application/json
RewriteRule ^verbs/commented$ http://xapi.vocab.pub/datasets/adl/verbs/commented.json [R=303]

# completed
# ---------------------------
RewriteCond %{HTTP_ACCEPT} application/json
RewriteRule ^verbs/completed$ http://xapi.vocab.pub/datasets/adl/verbs/completed.json [R=303]

# exited
# ---------------------------
RewriteCond %{HTTP_ACCEPT} application/json
RewriteRule ^verbs/exited$ http://xapi.vocab.pub/datasets/adl/verbs/exited.json [R=303]

# experienced
# ---------------------------
RewriteCond %{HTTP_ACCEPT} application/json
RewriteRule ^verbs/experienced$ http://xapi.vocab.pub/datasets/adl/verbs/experienced.json [R=303]

# failed
# ---------------------------
RewriteCond %{HTTP_ACCEPT} application/json
RewriteRule ^verbs/failed$ http://xapi.vocab.pub/datasets/adl/verbs/failed.json [R=303]

# imported
# ---------------------------
RewriteCond %{HTTP_ACCEPT} application/json
RewriteRule ^verbs/imported$ http://xapi.vocab.pub/datasets/adl/verbs/imported.json [R=303]

# initialized
# ---------------------------
RewriteCond %{HTTP_ACCEPT} application/json
RewriteRule ^verbs/initialized$ http://xapi.vocab.pub/datasets/adl/verbs/initialized.json [R=303]

# interacted
# ---------------------------
RewriteCond %{HTTP_ACCEPT} application/json
RewriteRule ^verbs/interacted$ http://xapi.vocab.pub/datasets/adl/verbs/interacted.json [R=303]

# launched
# ---------------------------
RewriteCond %{HTTP_ACCEPT} application/json
RewriteRule ^verbs/launched$ http://xapi.vocab.pub/datasets/adl/verbs/launched.json [R=303]

# logged-in
# ---------------------------
RewriteCond %{HTTP_ACCEPT} application/json
RewriteRule ^verbs/logged-in$ http://xapi.vocab.pub/datasets/adl/verbs/logged-in.json [R=303]

# logged-out
# ---------------------------
RewriteCond %{HTTP_ACCEPT} application/json
RewriteRule ^verbs/logged-out$ http://xapi.vocab.pub/datasets/adl/verbs/logged-out.json [R=303]

# mastered
# ---------------------------
RewriteCond %{HTTP_ACCEPT} application/json
RewriteRule ^verbs/mastered$ http://xapi.vocab.pub/datasets/adl/verbs/mastered.json [R=303]

# passed
# ---------------------------
RewriteCond %{HTTP_ACCEPT} application/json
RewriteRule ^verbs/passed$ http://xapi.vocab.pub/datasets/adl/verbs/passed.json [R=303]

# preferred
# ---------------------------
RewriteCond %{HTTP_ACCEPT} application/json
RewriteRule ^verbs/preferred$ http://xapi.vocab.pub/datasets/adl/verbs/preferred.json [R=303]

# progressed
# ---------------------------
RewriteCond %{HTTP_ACCEPT} application/json
RewriteRule ^verbs/progressed$ http://xapi.vocab.pub/datasets/adl/verbs/progressed.json [R=303]

# registered
# ---------------------------
RewriteCond %{HTTP_ACCEPT} application/json
RewriteRule ^verbs/registered$ http://xapi.vocab.pub/datasets/adl/verbs/registered.json [R=303]

# responded
# ---------------------------
RewriteCond %{HTTP_ACCEPT} application/json
RewriteRule ^verbs/responded$ http://xapi.vocab.pub/datasets/adl/verbs/responded.json [R=303]

# resumed
# ---------------------------
RewriteCond %{HTTP_ACCEPT} application/json
RewriteRule ^verbs/resumed$ http://xapi.vocab.pub/datasets/adl/verbs/resumed.json [R=303]

# satisfied
# ---------------------------
RewriteCond %{HTTP_ACCEPT} application/json
RewriteRule ^verbs/satisfied$ http://xapi.vocab.pub/datasets/adl/verbs/satisfied.json [R=303]

# scored
# ---------------------------
RewriteCond %{HTTP_ACCEPT} application/json
RewriteRule ^verbs/scored$ http://xapi.vocab.pub/datasets/adl/verbs/scored.json [R=303]

# shared
# ---------------------------
RewriteCond %{HTTP_ACCEPT} application/json
RewriteRule ^verbs/shared$ http://xapi.vocab.pub/datasets/adl/verbs/shared.json [R=303]

# suspended
# ---------------------------
RewriteCond %{HTTP_ACCEPT} application/json
RewriteRule ^verbs/suspended$ http://xapi.vocab.pub/datasets/adl/verbs/suspended.json [R=303]

# terminated
# ---------------------------
RewriteCond %{HTTP_ACCEPT} application/json
RewriteRule ^verbs/terminated$ http://xapi.vocab.pub/datasets/adl/verbs/terminated.json [R=303]

# waived
# ---------------------------
RewriteCond %{HTTP_ACCEPT} application/json
RewriteRule ^verbs/terminated$ http://xapi.vocab.pub/datasets/adl/verbs/waived.json [R=303]

# voided
# ---------------------------
RewriteCond %{HTTP_ACCEPT} application/json
RewriteRule ^verbs/voided$ http://xapi.vocab.pub/datasets/adl/verbs/voided.json [R=303]

