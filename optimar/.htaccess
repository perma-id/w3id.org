# Name of the project: OPTiMAR
#Â Description: Ontology modeling structural elements, sensors, events, and failures in offshore wind platforms, including measurement data and involved actors.
# Contacts:
# - Alejandro Flores <afloresb@usal.es> - GitHub: https://github.com/alexespz
# - Alberto Montero <albertomonfdez@usal.es> - GitHub: https://github.com/tobeal
# - Cristina Aceta <cristina.aceta@tekniker.es> - GitHub: https://github.com/cristinacm
# - Oihana Garcia <oihana.garcia@tekniker.es>

## ------------------------------------------------------------
##  OPTIMAR Ontology - Persistent URL Configuration (w3id.org)
## ------------------------------------------------------------

## Turn off MultiViews
Options -MultiViews

# Rewrite engine setup
RewriteEngine On

# ---------------------------------------
# DEFAULT VERSION (CURRENT RELEASE)
# ---------------------------------------

# Rewrite rule to serve HTML content
RewriteCond %{HTTP_ACCEPT} !application/rdf\+xml.*(text/html|application/xhtml\+xml)
RewriteCond %{HTTP_ACCEPT} text/html [OR]
RewriteCond %{HTTP_ACCEPT} application/xhtml\+xml [OR]
RewriteCond %{HTTP_USER_AGENT} ^Mozilla/.*
RewriteRule ^$ https://bisite.github.io/OPTIMAR-Ontology/docs/index.html [R=303,L]

# Rewrite rule to serve RDF/XML content if requested
RewriteCond %{HTTP_ACCEPT} application/rdf\+xml [OR]
RewriteCond %{HTTP_ACCEPT} application/owl\+xml
RewriteRule ^$ https://bisite.github.io/OPTIMAR-Ontology/ontology/OPTiMAR-v1.0.ttl [R=303,L]

# Default Rule
RewriteRule ^$ https://bisite.github.io/OPTIMAR-Ontology/ontology/OPTiMAR-v1.0.ttl [R=303,L]


# ---------------------------------------
# SPECIFIC VERSION REDIRECTIONS
# ---------------------------------------

# Version 1.0
RewriteRule ^1.0$ https://bisite.github.io/OPTIMAR-Ontology/ontology/OPTiMAR-v1.0.ttl [R=303,L]

# Version 0.2 (older, backward-compatible)
RewriteRule ^0.2$ https://bisite.github.io/OPTIMAR-Ontology/ontology/OPTiMAR-v0.2.ttl [R=303,L]



# ---------------------------------------
# NAMESPACE HANDLING
# ---------------------------------------

# Any fragment identifiers (#ClassName) are ignored by the server, so we redirect to the RDF content for ontology term lookups
RewriteRule ^(.*)$ https://bisite.github.io/OPTIMAR-Ontology/ontology/OPTiMAR-v1.0.ttl [R=303,L]