Options +FollowSymLinks
RewriteEngine On

# ---------- Ontology root (content negotiation) ----------
# JSON(-LD)
RewriteCond %{HTTP_ACCEPT} application/ld\+json [OR]
RewriteCond %{HTTP_ACCEPT} application/json
RewriteRule ^$ https://hydro-knowledge-graph-f48785.pages.rwth-aachen.de/latest.jsonld [R=303,L]

# Turtle / N-Triples / N-Quads
RewriteCond %{HTTP_ACCEPT} text/turtle [OR]
RewriteCond %{HTTP_ACCEPT} application/n-triples [OR]
RewriteCond %{HTTP_ACCEPT} application/n-quads
RewriteRule ^$ https://hydro-knowledge-graph-f48785.pages.rwth-aachen.de/latest.ttl [R=303,L]

# Default (human-readable HTML)
RewriteRule ^$ https://hydro-knowledge-graph-f48785.pages.rwth-aachen.de/index.html [R=303,L]

# ---------- Terms ----------
# Map /hmontology/<term> (with or without trailing slash) to backend /<term>/
RewriteRule ^([^/]+?)/?$ https://hydro-knowledge-graph-f48785.pages.rwth-aachen.de/%1/ [R=303,L]

# (Optional) handle deeper paths if you ever add them later
RewriteRule ^(.+)$ https://hydro-knowledge-graph-f48785.pages.rwth-aachen.de/$1 [R=303,L]
