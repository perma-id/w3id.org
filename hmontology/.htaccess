Options +FollowSymLinks
RewriteEngine On

# ---------- Ontology root (content negotiation) ----------
# JSON(-LD)
RewriteCond %{HTTP_ACCEPT} application/ld\+json [OR]
RewriteCond %{HTTP_ACCEPT} application/json
RewriteRule ^$ https://nfdi4earth.pages.rwth-aachen.de/knowledgehub/hydro-knowledge-graph/latest.jsonld [R=303,L]

# Turtle only (do not match n-triples/n-quads here)
RewriteCond %{HTTP_ACCEPT} text/turtle
RewriteRule ^$ https://nfdi4earth.pages.rwth-aachen.de/knowledgehub/hydro-knowledge-graph/latest.ttl [R=303,L]

# (Optional) RDF/XML â€” This will be activated later when we add RDF/XML
# RewriteCond %{HTTP_ACCEPT} application/rdf\+xml
# RewriteRule ^$ https://nfdi4earth.pages.rwth-aachen.de/knowledgehub/hydro-knowledge-graph/latest.rdf [R=303,L]

# Default to human-readable HTML
RewriteRule ^$ https://nfdi4earth.pages.rwth-aachen.de/knowledgehub/hydro-knowledge-graph/index.html [R=303,L]

# ---------- Terms ----------
# Map /hmontology/<term> (with or without trailing slash) to backend /<term>/
RewriteRule ^([^/]+?)/?$ https://nfdi4earth.pages.rwth-aachen.de/knowledgehub/hydro-knowledge-graph/$1/ [R=303,L]

# (Optional) handle deeper paths if we ever add them later
RewriteRule ^(.+)$ https://nfdi4earth.pages.rwth-aachen.de/knowledgehub/hydro-knowledge-graph/$1 [R=303,L]
