# This permanent w3id provides stable identifiers for
# the UK Curriculum Ontology (UKCO) and related resources
# published by Oak National Academy.
#
# The namespace https://w3id.org/uk/curriculum/ redirects to:
# https://github.com/oaknational/dfe-curriculum-ontology/
#
# This W3ID is used to provide persistent, resolvable URIs
# for curriculum concepts, relationships, and metadata
# used in educational technology, data integration,
# and linked open data applications.
#
# ## Contact
# Maintainer: Mark Hodierne
# Email: eng.mhodierne@thenational.academy
# GitHub: https://github.com/oaknational

RewriteEngine on

# ----------------------------------------------------------------------
# CORE ONTOLOGY
# ----------------------------------------------------------------------

# Versioned ontology IRIs (used in owl:versionIRI)
RewriteRule ^core/curriculum-ontology/([0-9]+\.[0-9]+\.[0-9]+)$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/ontology/versions/dfe-curriculum-ontology-$1.ttl [R=303,L]

# Main ontology file (latest version)
RewriteRule ^core/curriculum-ontology\.ttl$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/ontology/dfe-curriculum-ontology.ttl [R=303,L]

RewriteRule ^core/curriculum-ontology$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/ontology/dfe-curriculum-ontology.ttl [R=303,L]

# Core ontology namespace (for individual terms like curric:Phase)
RewriteRule ^core/$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/ontology/dfe-curriculum-ontology.ttl [R=303,L]

# ----------------------------------------------------------------------
# CORE ONTOLOGY CONSTRAINTS (SHACL)
# ----------------------------------------------------------------------

# Versioned constraints
RewriteRule ^core/shapes/([0-9]+\.[0-9]+\.[0-9]+)$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/ontology/versions/dfe-curriculum-constraints-$1.ttl [R=303,L]

# Main constraints file (latest version)
RewriteRule ^core/shapes\.ttl$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/ontology/dfe-curriculum-constraints.ttl [R=303,L]

RewriteRule ^core/shapes$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/ontology/dfe-curriculum-constraints.ttl [R=303,L]

# ----------------------------------------------------------------------
# NATIONAL CURRICULUM FOR ENGLAND - PROGRAMME STRUCTURE
# ----------------------------------------------------------------------

# Versioned programme structure
RewriteRule ^england/programme-structure/([0-9]+\.[0-9]+\.[0-9]+)$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/versions/$1/programme-structure-$1.ttl [R=303,L]

# Main programme structure file (latest version)
RewriteRule ^england/programme-structure\.ttl$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/programme-structure.ttl [R=303,L]

RewriteRule ^england/programme-structure$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/programme-structure.ttl [R=303,L]

# England namespace (for individual terms like eng:key-stage-3)
RewriteRule ^england/$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/programme-structure.ttl [R=303,L]

# ----------------------------------------------------------------------
# NATIONAL CURRICULUM FOR ENGLAND - THEMES
# ----------------------------------------------------------------------

# Versioned themes
RewriteRule ^england/themes/([0-9]+\.[0-9]+\.[0-9]+)$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/versions/$1/themes-$1.ttl [R=303,L]

# Main themes file (latest version)
RewriteRule ^england/themes\.ttl$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/themes.ttl [R=303,L]

RewriteRule ^england/themes$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/themes.ttl [R=303,L]

# ----------------------------------------------------------------------
# NATIONAL CURRICULUM FOR ENGLAND - HISTORY SUBJECT
# ----------------------------------------------------------------------

# Versioned history subject files
RewriteRule ^england/history-subject/([0-9]+\.[0-9]+\.[0-9]+)$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/subjects/history/versions/$1/history-subject-$1.ttl [R=303,L]

RewriteRule ^england/history-knowledge-taxonomy/([0-9]+\.[0-9]+\.[0-9]+)$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/subjects/history/versions/$1/history-knowledge-taxonomy-$1.ttl [R=303,L]

RewriteRule ^england/history-schemes/([0-9]+\.[0-9]+\.[0-9]+)$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/subjects/history/versions/$1/history-schemes-$1.ttl [R=303,L]

# Main history files (latest version)
RewriteRule ^england/history-subject\.ttl$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/subjects/history/history-subject.ttl [R=303,L]

RewriteRule ^england/history-knowledge-taxonomy\.ttl$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/subjects/history/history-knowledge-taxonomy.ttl [R=303,L]

RewriteRule ^england/history-schemes\.ttl$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/subjects/history/history-schemes.ttl [R=303,L]

# Main history files (latest version) - WITHOUT .ttl extension (for owl:imports)
RewriteRule ^england/history-subject$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/subjects/history/history-subject.ttl [R=303,L]

RewriteRule ^england/history-knowledge-taxonomy$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/subjects/history/history-knowledge-taxonomy.ttl [R=303,L]

RewriteRule ^england/history-schemes$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/subjects/history/history-schemes.ttl [R=303,L]

# ----------------------------------------------------------------------
# NATIONAL CURRICULUM FOR ENGLAND - SCIENCE SUBJECT
# ----------------------------------------------------------------------

# Versioned science subject files
RewriteRule ^england/science-subject/([0-9]+\.[0-9]+\.[0-9]+)$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/subjects/science/versions/$1/science-subject-$1.ttl [R=303,L]

RewriteRule ^england/science-knowledge-taxonomy/([0-9]+\.[0-9]+\.[0-9]+)$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/subjects/science/versions/$1/science-knowledge-taxonomy-$1.ttl [R=303,L]

RewriteRule ^england/science-schemes/([0-9]+\.[0-9]+\.[0-9]+)$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/subjects/science/versions/$1/science-schemes-$1.ttl [R=303,L]

# Main science files (latest version)
RewriteRule ^england/science-subject\.ttl$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/subjects/science/science-subject.ttl [R=303,L]

RewriteRule ^england/science-knowledge-taxonomy\.ttl$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/subjects/science/science-knowledge-taxonomy.ttl [R=303,L]

RewriteRule ^england/science-schemes\.ttl$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/subjects/science/science-schemes.ttl [R=303,L]

# Main science files (latest version) - WITHOUT .ttl extension (for owl:imports)
RewriteRule ^england/science-subject$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/subjects/science/science-subject.ttl [R=303,L]

RewriteRule ^england/science-knowledge-taxonomy$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/subjects/science/science-knowledge-taxonomy.ttl [R=303,L]

RewriteRule ^england/science-schemes$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/subjects/science/science-schemes.ttl [R=303,L]

# ----------------------------------------------------------------------
# OAK CURRICULUM ONTOLOGY
# ----------------------------------------------------------------------

# Versioned ontology IRIs (used in owl:versionIRI)
RewriteRule ^oak-ontology/([0-9]+\.[0-9]+\.[0-9]+)$ https://raw.githubusercontent.com/oaknational/oak-curriculum-ontology/main/ontology/versions/oak-curriculum-ontology-$1.ttl [R=303,L]

# Main ontology file (latest version)
RewriteRule ^oak-ontology\.ttl$ https://raw.githubusercontent.com/oaknational/oak-curriculum-ontology/main/ontology/oak-curriculum-ontology.ttl [R=303,L]

# Oak ontology namespace (for individual terms like oakcurric:Programme)
RewriteRule ^oak-ontology$ https://raw.githubusercontent.com/oaknational/oak-curriculum-ontology/main/ontology/oak-curriculum-ontology.ttl [R=303,L]

# ----------------------------------------------------------------------
# OAK CURRICULUM ONTOLOGY CONSTRAINTS (SHACL)
# ----------------------------------------------------------------------

# Versioned constraints
RewriteRule ^oak-ontology/shapes/([0-9]+\.[0-9]+\.[0-9]+)$ https://raw.githubusercontent.com/oaknational/oak-curriculum-ontology/main/ontology/versions/oak-curriculum-constraints-$1.ttl [R=303,L]

# Main constraints file (latest version)
RewriteRule ^oak-ontology/shapes\.ttl$ https://raw.githubusercontent.com/oaknational/oak-curriculum-ontology/main/ontology/oak-curriculum-constraints.ttl [R=303,L]

RewriteRule ^oak-ontology/shapes$ https://raw.githubusercontent.com/oaknational/oak-curriculum-ontology/main/ontology/oak-curriculum-constraints.ttl [R=303,L]

# ----------------------------------------------------------------------
# OAK CURRICULUM DATA - PROGRAMME STRUCTURE
# ----------------------------------------------------------------------

# Versioned programme structure
RewriteRule ^oak-data/programme-structure/([0-9]+\.[0-9]+\.[0-9]+)$ https://raw.githubusercontent.com/oaknational/oak-curriculum-ontology/main/data/oak-curriculum/versions/programme-structure-$1.ttl [R=303,L]

# Main programme structure file (latest version)
RewriteRule ^oak-data/programme-structure\.ttl$ https://raw.githubusercontent.com/oaknational/oak-curriculum-ontology/main/data/oak-curriculum/programme-structure.ttl [R=303,L]

# Oak data namespace (for individual programme structure terms)
RewriteRule ^oak-data/programme-structure$ https://raw.githubusercontent.com/oaknational/oak-curriculum-ontology/main/data/oak-curriculum/programme-structure.ttl [R=303,L]

# ----------------------------------------------------------------------
# OAK CURRICULUM DATA - THREADS
# ----------------------------------------------------------------------

# Versioned threads
RewriteRule ^oak-data/threads/([0-9]+\.[0-9]+\.[0-9]+)$ https://raw.githubusercontent.com/oaknational/oak-curriculum-ontology/main/data/oak-curriculum/versions/threads-$1.ttl [R=303,L]

# Main threads file (latest version)
RewriteRule ^oak-data/threads\.ttl$ https://raw.githubusercontent.com/oaknational/oak-curriculum-ontology/main/data/oak-curriculum/threads.ttl [R=303,L]

# Oak data namespace (for individual thread terms)
RewriteRule ^oak-data/threads$ https://raw.githubusercontent.com/oaknational/oak-curriculum-ontology/main/data/oak-curriculum/threads.ttl [R=303,L]

# Oak data namespace root
RewriteRule ^oak-data/$ https://raw.githubusercontent.com/oaknational/oak-curriculum-ontology/main/data/oak-curriculum/programme-structure.ttl [R=303,L]

# ----------------------------------------------------------------------
# FALLBACK - Repository root and other files
# ----------------------------------------------------------------------

# Root namespace - redirect to README
RewriteRule ^$ https://github.com/oaknational/dfe-curriculum-ontology [R=303,L]

# Any other files (documentation, etc.)
RewriteRule ^(.*)$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/$1 [R=303,L]