# This permanent w3id provides stable identifiers for
# the UK Curriculum Ontology (UKCO) and related resources
# published by Oak National Academy.
#
# The namespace https://w3id.org/uk/curriculum/ redirects to:
# https://github.com/oaknational/dfe-curriculum-ontology/
#
# This W3ID is used to provide persistent, resolvable URIs
# for curriculum concepts, relationships, and metadata
# used in educational technology, data integration,
# and linked open data applications.
#
# ## Contact 
# Maintainer: Mark Hodierne
# Email: eng.mhodierne@thenational.academy
# GitHub: https://github.com/oaknational

RewriteEngine on

# ----------------------------------------------------------------------
# CORE ONTOLOGY
# ----------------------------------------------------------------------

# Versioned ontology IRIs (used in owl:versionIRI)
RewriteRule ^core/curriculum-ontology/([0-9]+\.[0-9]+\.[0-9]+)$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/ontology/versions/dfe-curriculum-ontology-$1.ttl [R=303,L]

# Main ontology file (latest version)
RewriteRule ^core/curriculum-ontology\.ttl$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/ontology/dfe-curriculum-ontology.ttl [R=303,L]

RewriteRule ^core/curriculum-ontology$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/ontology/dfe-curriculum-ontology.ttl [R=303,L]

# Core ontology namespace (for individual terms like curric:Phase)
RewriteRule ^core/$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/ontology/dfe-curriculum-ontology.ttl [R=303,L]

# Ontology documentation - HTML requests go to GitHub Pages
RewriteCond %{HTTP_ACCEPT} text/html [NC,OR]
RewriteCond %{HTTP_USER_AGENT} Mozilla [NC]
RewriteRule ^core/?$ https://oaknational.github.io/dfe-curriculum-ontology/ [R=303,L]

# ----------------------------------------------------------------------
# CORE ONTOLOGY CONSTRAINTS (SHACL)
# ----------------------------------------------------------------------

# Versioned constraints
RewriteRule ^core/shapes/([0-9]+\.[0-9]+\.[0-9]+)$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/ontology/versions/dfe-curriculum-constraints-$1.ttl [R=303,L]

# Main constraints file (latest version)
RewriteRule ^core/shapes\.ttl$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/ontology/dfe-curriculum-constraints.ttl [R=303,L]

RewriteRule ^core/shapes$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/ontology/dfe-curriculum-constraints.ttl [R=303,L]

# ----------------------------------------------------------------------
# NATIONAL CURRICULUM FOR ENGLAND - TEMPORAL STRUCTURE
# ----------------------------------------------------------------------

# Versioned programme structure
RewriteRule ^england/temporal-structure/([0-9]+\.[0-9]+\.[0-9]+)$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/versions/$1/temporal-structure-$1.ttl [R=303,L]

# Main programme structure file (latest version)
RewriteRule ^england/temporal-structure\.ttl$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/temporal-structure.ttl [R=303,L]

RewriteRule ^england/temporal-structure$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/temporal-structure.ttl [R=303,L]

# England namespace (for individual terms like eng:key-stage-3)
RewriteRule ^england/$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/temporal-structure.ttl [R=303,L]

# ----------------------------------------------------------------------
# NATIONAL CURRICULUM FOR ENGLAND - THEMES
# ----------------------------------------------------------------------

# Versioned themes
RewriteRule ^england/themes/([0-9]+\.[0-9]+\.[0-9]+)$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/versions/$1/themes-$1.ttl [R=303,L]

# Main themes file (latest version)
RewriteRule ^england/themes\.ttl$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/themes.ttl [R=303,L]

RewriteRule ^england/themes$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/themes.ttl [R=303,L]

# ----------------------------------------------------------------------
# NATIONAL CURRICULUM FOR ENGLAND - INDIVIDUAL RESOURCE CONTENT NEGOTIATION
# ----------------------------------------------------------------------
# These handle content negotiation for individual curriculum resources

# Subject resources - Turtle format
RewriteCond %{HTTP_ACCEPT} text/turtle [NC]
RewriteRule ^england/([a-z0-9-]+)$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/distributions/$1.ttl [R=303,L]

# Subject resources - RDF/XML format
RewriteCond %{HTTP_ACCEPT} application/rdf\+xml [NC]
RewriteRule ^england/([a-z0-9-]+)$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/distributions/$1.rdf [R=303,L]

# Subject resources - JSON-LD format
RewriteCond %{HTTP_ACCEPT} application/ld\+json [NC]
RewriteRule ^england/([a-z0-9-]+)$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/distributions/$1.jsonld [R=303,L]

# Subject resources - N-Triples format
RewriteCond %{HTTP_ACCEPT} application/n-triples [NC]
RewriteRule ^england/([a-z0-9-]+)$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/distributions/$1.nt [R=303,L]

# Subject resources - HTML (browsers) - redirect to web interface
RewriteCond %{HTTP_ACCEPT} text/html [NC,OR]
RewriteCond %{HTTP_USER_AGENT} Mozilla [NC]
RewriteRule ^england/([a-z0-9-]+)$ https://curriculum.education.gov.uk/id/subjects/$1 [R=303,L]

# Subject with key stage - Turtle format
RewriteCond %{HTTP_ACCEPT} text/turtle [NC]
RewriteRule ^england/([a-z0-9-]+)/(key-stage-[0-9]+)$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/distributions/$1-$2.ttl [R=303,L]

# Subject with key stage - RDF/XML format
RewriteCond %{HTTP_ACCEPT} application/rdf\+xml [NC]
RewriteRule ^england/([a-z0-9-]+)/(key-stage-[0-9]+)$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/distributions/$1-$2.rdf [R=303,L]

# Subject with key stage - JSON-LD format
RewriteCond %{HTTP_ACCEPT} application/ld\+json [NC]
RewriteRule ^england/([a-z0-9-]+)/(key-stage-[0-9]+)$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/distributions/$1-$2.jsonld [R=303,L]

# Subject with key stage - N-Triples format
RewriteCond %{HTTP_ACCEPT} application/n-triples [NC]
RewriteRule ^england/([a-z0-9-]+)/(key-stage-[0-9]+)$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/distributions/$1-$2.nt [R=303,L]

# Subject with key stage - HTML (browsers) - redirect to web interface
RewriteCond %{HTTP_ACCEPT} text/html [NC,OR]
RewriteCond %{HTTP_USER_AGENT} Mozilla [NC]
RewriteRule ^england/([a-z0-9-]+)/(key-stage-[0-9]+)$ https://curriculum.education.gov.uk/id/subjects/$1?keystage=$2 [R=303,L]

# Default: if no Accept header matched, return Turtle (default RDF format)
RewriteRule ^england/([a-z0-9-]+)$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/distributions/$1.ttl [R=303,L]

# Default for key stage specific: return Turtle
RewriteRule ^england/([a-z0-9-]+)/(key-stage-[0-9]+)$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/distributions/$1-$2.ttl [R=303,L]

# ----------------------------------------------------------------------
# NOTES:
#
# 1. These rules redirect individual resource URIs to either:
#    - Static RDF files in /distributions/ for machine clients
#    - HTML web interface for human browsers
#
# 2. File naming convention in distributions/:
#    - Full subject: {subject}.{ext} (e.g., mathematics.ttl)
#    - Key stage specific: {subject}-{keystage}.{ext} (e.g., mathematics-key-stage-3.ttl)
#
# 3. Insert these rules BEFORE existing subject-specific rules
#    so content negotiation happens before hardcoded redirects
#
# 4. The (key-stage-[0-9]+) pattern matches key-stage-1, key-stage-2, etc.
#
# 5. For HTML requests, we check both Accept header AND User-Agent
#    to catch browsers that send */* in Accept header
#
# ----------------------------------------------------------------------

# ----------------------------------------------------------------------
# NATIONAL CURRICULUM FOR ENGLAND - HISTORY SUBJECT
# ----------------------------------------------------------------------

# Versioned history programme structure
RewriteRule ^england/history-programme-structure/([0-9]+\.[0-9]+\.[0-9]+)$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/subjects/history/versions/$1/history-programme-structure-$1.ttl [R=303,L]

# Main history programme structure file (latest version)
RewriteRule ^england/history-programme-structure\.ttl$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/subjects/history/history-programme-structure.ttl [R=303,L]

RewriteRule ^england/history-programme-structure$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/subjects/history/history-programme-structure.ttl [R=303,L]

# Versioned history knowledge taxonomy
RewriteRule ^england/history-knowledge-taxonomy/([0-9]+\.[0-9]+\.[0-9]+)$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/subjects/history/versions/$1/history-knowledge-taxonomy-$1.ttl [R=303,L]

# Main history knowledge taxonomy file (latest version)
RewriteRule ^england/history-knowledge-taxonomy\.ttl$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/subjects/history/history-knowledge-taxonomy.ttl [R=303,L]

RewriteRule ^england/history-knowledge-taxonomy$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/subjects/history/history-knowledge-taxonomy.ttl [R=303,L]

# ----------------------------------------------------------------------
# NATIONAL CURRICULUM FOR ENGLAND - GEOGRAPHY SUBJECT
# ----------------------------------------------------------------------

# Versioned geography programme structure
RewriteRule ^england/geography-programme-structure/([0-9]+\.[0-9]+\.[0-9]+)$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/subjects/geography/versions/$1/geography-programme-structure-$1.ttl [R=303,L]

# Main geography programme structure file (latest version)
RewriteRule ^england/geography-programme-structure\.ttl$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/subjects/geography/geography-programme-structure.ttl [R=303,L]

RewriteRule ^england/geography-programme-structure$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/subjects/geography/geography-programme-structure.ttl [R=303,L]

# Versioned geography knowledge taxonomy
RewriteRule ^england/geography-knowledge-taxonomy/([0-9]+\.[0-9]+\.[0-9]+)$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/subjects/geography/versions/$1/geography-knowledge-taxonomy-$1.ttl [R=303,L]

# Main geography knowledge taxonomy file (latest version)
RewriteRule ^england/geography-knowledge-taxonomy\.ttl$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/subjects/geography/geography-knowledge-taxonomy.ttl [R=303,L]

RewriteRule ^england/geography-knowledge-taxonomy$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/subjects/geography/geography-knowledge-taxonomy.ttl [R=303,L]

# ----------------------------------------------------------------------
# NATIONAL CURRICULUM FOR ENGLAND - BIOLOGY SUBJECT
# ----------------------------------------------------------------------

# Versioned biology programme structure
RewriteRule ^england/biology-programme-structure/([0-9]+\.[0-9]+\.[0-9]+)$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/subjects/biology/versions/$1/biology-programme-structure-$1.ttl [R=303,L]

# Main biology programme structure file (latest version)
RewriteRule ^england/biology-programme-structure\.ttl$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/subjects/biology/biology-programme-structure.ttl [R=303,L]

RewriteRule ^england/biology-programme-structure$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/subjects/biology/biology-programme-structure.ttl [R=303,L]

# Versioned biology knowledge taxonomy
RewriteRule ^england/biology-knowledge-taxonomy/([0-9]+\.[0-9]+\.[0-9]+)$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/subjects/biology/versions/$1/biology-knowledge-taxonomy-$1.ttl [R=303,L]

# Main biology knowledge taxonomy file (latest version)
RewriteRule ^england/biology-knowledge-taxonomy\.ttl$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/subjects/biology/biology-knowledge-taxonomy.ttl [R=303,L]

RewriteRule ^england/biology-knowledge-taxonomy$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/subjects/biology/biology-knowledge-taxonomy.ttl [R=303,L]

# ----------------------------------------------------------------------
# NATIONAL CURRICULUM FOR ENGLAND - CHEMISTRY SUBJECT
# ----------------------------------------------------------------------

# Versioned chemistry programme structure
RewriteRule ^england/chemistry-programme-structure/([0-9]+\.[0-9]+\.[0-9]+)$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/subjects/chemistry/versions/$1/chemistry-programme-structure-$1.ttl [R=303,L]

# Main chemistry programme structure file (latest version)
RewriteRule ^england/chemistry-programme-structure\.ttl$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/subjects/chemistry/chemistry-programme-structure.ttl [R=303,L]

RewriteRule ^england/chemistry-programme-structure$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/subjects/chemistry/chemistry-programme-structure.ttl [R=303,L]

# Versioned chemistry knowledge taxonomy
RewriteRule ^england/chemistry-knowledge-taxonomy/([0-9]+\.[0-9]+\.[0-9]+)$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/subjects/chemistry/versions/$1/chemistry-knowledge-taxonomy-$1.ttl [R=303,L]

# Main chemistry knowledge taxonomy file (latest version)
RewriteRule ^england/chemistry-knowledge-taxonomy\.ttl$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/subjects/chemistry/chemistry-knowledge-taxonomy.ttl [R=303,L]

RewriteRule ^england/chemistry-knowledge-taxonomy$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/subjects/chemistry/chemistry-knowledge-taxonomy.ttl [R=303,L]

# ----------------------------------------------------------------------
# NATIONAL CURRICULUM FOR ENGLAND - PHYSICS SUBJECT
# ----------------------------------------------------------------------

# Versioned physics programme structure
RewriteRule ^england/physics-programme-structure/([0-9]+\.[0-9]+\.[0-9]+)$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/subjects/physics/versions/$1/physics-programme-structure-$1.ttl [R=303,L]

# Main physics programme structure file (latest version)
RewriteRule ^england/physics-programme-structure\.ttl$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/subjects/physics/physics-programme-structure.ttl [R=303,L]

RewriteRule ^england/physics-programme-structure$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/subjects/physics/physics-programme-structure.ttl [R=303,L]

# Versioned physics knowledge taxonomy
RewriteRule ^england/physics-knowledge-taxonomy/([0-9]+\.[0-9]+\.[0-9]+)$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/subjects/physics/versions/$1/physics-knowledge-taxonomy-$1.ttl [R=303,L]

# Main physics knowledge taxonomy file (latest version)
RewriteRule ^england/physics-knowledge-taxonomy\.ttl$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/subjects/physics/physics-knowledge-taxonomy.ttl [R=303,L]

RewriteRule ^england/physics-knowledge-taxonomy$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/subjects/physics/physics-knowledge-taxonomy.ttl [R=303,L]

# ----------------------------------------------------------------------
# NATIONAL CURRICULUM FOR ENGLAND - COMBINED SCIENCE SUBJECT
# ----------------------------------------------------------------------

# Versioned combined science programme structure
RewriteRule ^england/combined-science-programme-structure/([0-9]+\.[0-9]+\.[0-9]+)$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/subjects/combined-science/versions/$1/combined-science-programme-structure-$1.ttl [R=303,L]

# Main combined science programme structure file (latest version)
RewriteRule ^england/combined-science-programme-structure\.ttl$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/subjects/combined-science/combined-science-programme-structure.ttl [R=303,L]

RewriteRule ^england/combined-science-programme-structure$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/subjects/combined-science/combined-science-programme-structure.ttl [R=303,L]

# Versioned combined science knowledge taxonomy
RewriteRule ^england/combined-science-knowledge-taxonomy/([0-9]+\.[0-9]+\.[0-9]+)$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/subjects/combined-science/versions/$1/combined-science-knowledge-taxonomy-$1.ttl [R=303,L]

# Main combined science knowledge taxonomy file (latest version)
RewriteRule ^england/combined-science-knowledge-taxonomy\.ttl$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/subjects/combined-science/combined-science-knowledge-taxonomy.ttl [R=303,L]

RewriteRule ^england/combined-science-knowledge-taxonomy$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/subjects/combined-science/combined-science-knowledge-taxonomy.ttl [R=303,L]

# ----------------------------------------------------------------------
# NATIONAL CURRICULUM FOR ENGLAND - SCIENCE SUBJECT
# ----------------------------------------------------------------------

# Versioned science programme structure
RewriteRule ^england/science-programme-structure/([0-9]+\.[0-9]+\.[0-9]+)$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/subjects/science/versions/$1/science-programme-structure-$1.ttl [R=303,L]

# Main science programme structure file (latest version)
RewriteRule ^england/science-programme-structure\.ttl$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/subjects/science/science-programme-structure.ttl [R=303,L]

RewriteRule ^england/science-programme-structure$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/subjects/science/science-programme-structure.ttl [R=303,L]

# Versioned science knowledge taxonomy
RewriteRule ^england/science-knowledge-taxonomy/([0-9]+\.[0-9]+\.[0-9]+)$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/subjects/science/versions/$1/science-knowledge-taxonomy-$1.ttl [R=303,L]

# Main science knowledge taxonomy file (latest version)
RewriteRule ^england/science-knowledge-taxonomy\.ttl$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/subjects/science/science-knowledge-taxonomy.ttl [R=303,L]

RewriteRule ^england/science-knowledge-taxonomy$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/subjects/science/science-knowledge-taxonomy.ttl [R=303,L]

# ----------------------------------------------------------------------
# NATIONAL CURRICULUM FOR ENGLAND - MATHEMATICS SUBJECT
# ----------------------------------------------------------------------

# Versioned mathematics programme structure
RewriteRule ^england/mathematics-programme-structure/([0-9]+\.[0-9]+\.[0-9]+)$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/subjects/mathematics/versions/$1/mathematics-programme-structure-$1.ttl [R=303,L]

# Main mathematics programme structure file (latest version)
RewriteRule ^england/mathematics-programme-structure\.ttl$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/subjects/mathematics/mathematics-programme-structure.ttl [R=303,L]

RewriteRule ^england/mathematics-programme-structure$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/subjects/mathematics/mathematics-programme-structure.ttl [R=303,L]

# Versioned mathematics knowledge taxonomy
RewriteRule ^england/mathematics-knowledge-taxonomy/([0-9]+\.[0-9]+\.[0-9]+)$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/subjects/mathematics/versions/$1/mathematics-knowledge-taxonomy-$1.ttl [R=303,L]

# Main mathematics knowledge taxonomy file (latest version)
RewriteRule ^england/mathematics-knowledge-taxonomy\.ttl$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/subjects/mathematics/mathematics-knowledge-taxonomy.ttl [R=303,L]

RewriteRule ^england/mathematics-knowledge-taxonomy$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/subjects/mathematics/mathematics-knowledge-taxonomy.ttl [R=303,L]

# ----------------------------------------------------------------------
# NATIONAL CURRICULUM FOR ENGLAND - ENGLISH SUBJECT
# ----------------------------------------------------------------------

# Versioned english programme structure
RewriteRule ^england/english-programme-structure/([0-9]+\.[0-9]+\.[0-9]+)$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/subjects/english/versions/$1/english-programme-structure-$1.ttl [R=303,L]

# Main english programme structure file (latest version)
RewriteRule ^england/english-programme-structure\.ttl$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/subjects/english/english-programme-structure.ttl [R=303,L]

RewriteRule ^england/english-programme-structure$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/subjects/english/english-programme-structure.ttl [R=303,L]

# Versioned english knowledge taxonomy
RewriteRule ^england/english-knowledge-taxonomy/([0-9]+\.[0-9]+\.[0-9]+)$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/subjects/english/versions/$1/english-knowledge-taxonomy-$1.ttl [R=303,L]

# Main english knowledge taxonomy file (latest version)
RewriteRule ^england/english-knowledge-taxonomy\.ttl$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/subjects/english/english-knowledge-taxonomy.ttl [R=303,L]

RewriteRule ^england/english-knowledge-taxonomy$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/subjects/english/english-knowledge-taxonomy.ttl [R=303,L]

# ----------------------------------------------------------------------
# NATIONAL CURRICULUM FOR ENGLAND - CITIZENSHIP SUBJECT
# ----------------------------------------------------------------------

# Versioned citizenship programme structure
RewriteRule ^england/citizenship-programme-structure/([0-9]+\.[0-9]+\.[0-9]+)$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/subjects/citizenship/versions/$1/citizenship-programme-structure-$1.ttl [R=303,L]

# Main citizenship programme structure file (latest version)
RewriteRule ^england/citizenship-programme-structure\.ttl$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/subjects/citizenship/citizenship-programme-structure.ttl [R=303,L]

RewriteRule ^england/citizenship-programme-structure$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/subjects/citizenship/citizenship-programme-structure.ttl [R=303,L]

# Versioned citizenship knowledge taxonomy
RewriteRule ^england/citizenship-knowledge-taxonomy/([0-9]+\.[0-9]+\.[0-9]+)$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/subjects/citizenship/versions/$1/citizenship-knowledge-taxonomy-$1.ttl [R=303,L]

# Main citizenship knowledge taxonomy file (latest version)
RewriteRule ^england/citizenship-knowledge-taxonomy\.ttl$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/subjects/citizenship/citizenship-knowledge-taxonomy.ttl [R=303,L]

RewriteRule ^england/citizenship-knowledge-taxonomy$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/data/national-curriculum-for-england/subjects/citizenship/citizenship-knowledge-taxonomy.ttl [R=303,L]

# ----------------------------------------------------------------------
# OAK CURRICULUM ONTOLOGY
# ----------------------------------------------------------------------

# Versioned ontology IRIs (used in owl:versionIRI)
RewriteRule ^oak-ontology/([0-9]+\.[0-9]+\.[0-9]+)$ https://raw.githubusercontent.com/oaknational/oak-curriculum-ontology/main/ontology/versions/oak-curriculum-ontology-$1.ttl [R=303,L]

# Main ontology file (latest version)
RewriteRule ^oak-ontology\.ttl$ https://raw.githubusercontent.com/oaknational/oak-curriculum-ontology/main/ontology/oak-curriculum-ontology.ttl [R=303,L]

# Oak ontology namespace (for individual terms like oakcurric:Programme)
RewriteRule ^oak-ontology$ https://raw.githubusercontent.com/oaknational/oak-curriculum-ontology/main/ontology/oak-curriculum-ontology.ttl [R=303,L]

# ----------------------------------------------------------------------
# OAK CURRICULUM ONTOLOGY CONSTRAINTS (SHACL)
# ----------------------------------------------------------------------

# Versioned constraints
RewriteRule ^oak-ontology/shapes/([0-9]+\.[0-9]+\.[0-9]+)$ https://raw.githubusercontent.com/oaknational/oak-curriculum-ontology/main/ontology/versions/oak-curriculum-constraints-$1.ttl [R=303,L]

# Main constraints file (latest version)
RewriteRule ^oak-ontology/shapes\.ttl$ https://raw.githubusercontent.com/oaknational/oak-curriculum-ontology/main/ontology/oak-curriculum-constraints.ttl [R=303,L]

RewriteRule ^oak-ontology/shapes$ https://raw.githubusercontent.com/oaknational/oak-curriculum-ontology/main/ontology/oak-curriculum-constraints.ttl [R=303,L]

# ----------------------------------------------------------------------
# OAK CURRICULUM DATA - PROGRAMME STRUCTURE
# ----------------------------------------------------------------------

# Versioned programme structure
RewriteRule ^oak-data/programme-structure/([0-9]+\.[0-9]+\.[0-9]+)$ https://raw.githubusercontent.com/oaknational/oak-curriculum-ontology/main/data/oak-curriculum/versions/programme-structure-$1.ttl [R=303,L]

# Main programme structure file (latest version)
RewriteRule ^oak-data/programme-structure\.ttl$ https://raw.githubusercontent.com/oaknational/oak-curriculum-ontology/main/data/oak-curriculum/programme-structure.ttl [R=303,L]

# Oak data namespace (for individual programme structure terms)
RewriteRule ^oak-data/programme-structure$ https://raw.githubusercontent.com/oaknational/oak-curriculum-ontology/main/data/oak-curriculum/programme-structure.ttl [R=303,L]

# ----------------------------------------------------------------------
# OAK CURRICULUM DATA - THREADS
# ----------------------------------------------------------------------

# Versioned threads
RewriteRule ^oak-data/threads/([0-9]+\.[0-9]+\.[0-9]+)$ https://raw.githubusercontent.com/oaknational/oak-curriculum-ontology/main/data/oak-curriculum/versions/threads-$1.ttl [R=303,L]

# Main threads file (latest version)
RewriteRule ^oak-data/threads\.ttl$ https://raw.githubusercontent.com/oaknational/oak-curriculum-ontology/main/data/oak-curriculum/threads.ttl [R=303,L]

# Oak data namespace (for individual thread terms)
RewriteRule ^oak-data/threads$ https://raw.githubusercontent.com/oaknational/oak-curriculum-ontology/main/data/oak-curriculum/threads.ttl [R=303,L]

# Oak data namespace root
RewriteRule ^oak-data/$ https://raw.githubusercontent.com/oaknational/oak-curriculum-ontology/main/data/oak-curriculum/programme-structure.ttl [R=303,L]

# ----------------------------------------------------------------------
# OAK CURRICULUM RESOURCES
# ----------------------------------------------------------------------

# Versioned resources
RewriteRule ^oak-resources/([0-9]+\.[0-9]+\.[0-9]+)$ https://raw.githubusercontent.com/oaknational/oak-curriculum-ontology/main/data/oak-resources/versions/oak-resources-$1.ttl [R=303,L]

# Main resources file (latest version)
RewriteRule ^oak-resources\.ttl$ https://raw.githubusercontent.com/oaknational/oak-curriculum-ontology/main/data/oak-resources/oak-resources.ttl [R=303,L]

# Oak resources namespace (for individual resource terms)
RewriteRule ^oak-resources$ https://raw.githubusercontent.com/oaknational/oak-curriculum-ontology/main/data/oak-resources/oak-resources.ttl [R=303,L]

# Oak resources namespace root
RewriteRule ^oak-resources/$ https://raw.githubusercontent.com/oaknational/oak-curriculum-ontology/main/data/oak-resources/oak-resources.ttl [R=303,L]

# ----------------------------------------------------------------------
# FALLBACK - Repository root and other files
# ----------------------------------------------------------------------

# Root namespace - redirect to README
RewriteRule ^$ https://github.com/oaknational/dfe-curriculum-ontology [R=303,L]

# Any other files (documentation, etc.)
RewriteRule ^(.*)$ https://raw.githubusercontent.com/oaknational/dfe-curriculum-ontology/main/$1 [R=303,L]
